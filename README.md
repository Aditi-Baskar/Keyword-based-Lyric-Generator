# 685: Advanced Natural Language Processing
# Project: Keyword-based Song Lyric Generation

## Contributors
- Aditi Baskar
- Akshaya Mohan
- Niel Parekh
- Suraj Jain

## File Log
### `data`

#### flan-t5-Small
1. `t5_testing.csv`: original and T5 generated lyrics for test set

#### n-gram with keyword
1. `ngram_with_key<n>.csv`: lyrics generated by the n-gram model given the keywords for the song for n values 3 to 7

#### n-gram without keyword
1. `ngram<n>.csv`: lyrics generated by the n gram model given the first line for the song for n values 3 to 7

#### semantic evaluation
1. `semantic_evaluation.csv`: max, min and average cosine similarities for gold and generated keywords for test set for T5 outpputs
2. `semantic_evaluation_ngram<n>.csv`: max, min and average cosine similarities for gold and generated keywords for test set for n-gram outputs for n values 3 to 7

#### dataset
1. `songs_pt1.json`, `songs_pt2.json`: two splits of input dataset for keyword generation
2. `json_songspt1_keywords.json`, `json_songspt2_keywords.json`: two splits of dataset with generated keywords (generated by keyword_generation.ipynb)
3. `final_dataset.json`: cleaned and combined songs dataset with keywords (generated by final_dataset.ipynb)
4. `other_data.json`: Cleaned datafile with 300 songs of other artists with song titl and lyrics
5. `song_lyrics.csv`: File with the lyrics and labels of all the songs in the json files
6. `ts_data.json`: Cleaned datafile with TS song title, lyrics and keywords

#### keywords extracted from generated lyrics
1. `t5_testing_keywords.csv`: keywords generated by gpt-3.5-turbo for the T5 generated test set lyrics
2. `ngram<n>_testing_keywords.csv`: keywords generated by gpt-3.5-turbo for the n-gram generated test set lyrics for n values 3 to 7

### data cleaning and pre-processing
1. `data_split.ipynb`: Code to clean and split the songs dataset
2. `lg_TS.ipynb`: Code to use `lyricsgenius` library to extract and clean all lyrics by Taylor Swift. JSON file with title and lyrics generated.
3. `lg_other.ipynb`: Code to use `lyricsgenius` library to extract and clean 300 songs of 6 other artists. JSON file with title and lyrics generated.

### evaluation
#### semantic evaluation
1. `semantic_evaluation.ipynb`: Code to compute cosine similarity for the keywords generated from test set lyrics
#### stylistic evaluation
1. `bert_2.ipynb`: Code to train the bert classifier to perform stylistic evaluation 
2. `json_to_csv.ipynb`: Code to convert the data in the json files into csv file to be used by the BERT classifier.

### keyword generation
1. `keyword_generation.ipynb`: Code to generate keywords for the songs using gpt-3.5-turbo
2. `final_dataset.ipynb`: Code to clean and combine the split datasets with keywords to form the final training dataset

#### prompt engineering
1 . `q1.txt`, `q2.txt`: prompt and song for few shot prompting
2. `a1.txt`, `a2.txt`: keywords outputs for few shot prompting
3. `prompts for keyword extraction.txt`: List of prompts to extract keywords from song lyrics using ChatGPT

### models
#### baseline
1. `Ngram.ipynb`: Code to create n gram model(baseline model 1) and generate text
2. `Ngram_with_keyword.ipynb`: Code to create n gram model including keywords(baseline model 2) and generate text

#### flan-t5-small
1. `t5_fine_tuning.ipynb`: Code to fine tune T5 model on keywords and lyrics


